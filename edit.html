<!DOCTYPE html>
<html>
<head>
    <title>Edit Friend</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>
    <h1>Edit Friend</h1>
    <form id="editForm">
        <label for="name">Name:</label>
        <input type="text" id="name" required>

        <label for="age">Age:</label>
        <input type="number" id="age" required>

        <label for="contact">Contact:</label>
        <input type="number" id="contact" required>

        <label for="birthday">Birthday:</label>
        <input type="text" id="birthday" required>

        <label for="relationship">Relationship:</label>
        <input type="text" id="relationship" required>

        <label for="address">Address:</label>
        <input type="text" id="address" required>
    </form>
    <button id="editButton">Edit</button>
    <script>
        // Function to retrieve friends from localStorage
        function getFriendsFromLocalStorage() {
            return JSON.parse(localStorage.getItem("friends")) || [];
        }

        document.getElementById("editButton").addEventListener("click", function () {
            // Validate the form fields (implement your own validation)

            // Get the updated data from the form
            const updatedName = document.getElementById("name").value;
            const updatedAge = document.getElementById("age").value;
            const updatedContact = document.getElementById("contact").value;
            const updatedBirthday = document.getElementById("birthday").value;
            const updatedRelationship = document.getElementById("relationship").value;
            const updatedAddress = document.getElementById("address").value;

            // Find the friend with the matching ID
            const friendId = new URLSearchParams(window.location.search).get("id");
            const friends = getFriendsFromLocalStorage();
            const friend = friends.find((f) => f.id == friendId);

            // Update the friend's data
            if (friend) {
                friend.name = updatedName;
                friend.age = updatedAge;
                friend.contact = updatedContact;
                friend.birthday = updatedBirthday;
                friend.relationship = updatedRelationship;
                friend.address = updatedAddress;

                // Update localStorage with the modified data
                localStorage.setItem("friends", JSON.stringify(friends));

                // Alert that the friend is edited (you can use a better UI notification)
                alert("Friend edited!");

                // Redirect to the view page or perform any desired action
                window.location.href = `view.html?id=${friend.id}`;
            } else {
                // Handle the case where the friend ID is not found
                alert("Friend not found!");
                window.location.href = "index.html";
            }
        });
    </script>
</body>
</html>
